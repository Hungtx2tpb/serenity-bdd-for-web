webdriver {
    driver = chrome
    wait.for.timeout = 15000
    reuse.browser = false
    timeouts {
        implicitlywait = 10000
        pageload = 15000
        script = 15000
    }
}

serenity {
    environment = default
;     batch.strategy = "ISOLATED"
    project.name = "Web Automation Sample"
    take.screenshots = "FOR_FAILURES" #FOR_EACH_ACTION
    serenity.outputDirectory=target/site/serenity
    logging = "VERBOSE"
    fail.on.pending = false
   # serenity.reports.show.step.errors = true
   # restart.browser.for.each = scenario
   #webdriver.reuse = false
        keep.driver.open = false



    report {
        format = "html"
        outputDirectory = "target/serenity-reports"
        show.step.details = true
        show.replay.test.steps = true
        show.manual.tests = true
        show.narrative.text = true
        encoding = "UTF-8"
    }

}



environments {
  default {
    webdriver.base.url = "https://playwright.dev/"

    database {
      url = "jdbc:postgresql://localhost:5432/default_db"
      username = "default_user"
      password = "default_password"
    }
  }

  staging {
    webdriver.base.url = "https://openweathermap.org/"

    database {
      url = "jdbc:postgresql://staging-db-host:5432/staging_db"
      username = "staging_user"
      password = "staging_password"
    }
  }
}

drivers {
  mac {
    webdriver.chrome.driver = src/test/resources/driver/chromedriver
    webdriver.gecko.driver = src/test/resources/driver/geckodriver
  }
  windows {
    webdriver.chrome.driver = src/test/resources/driver/chromedriver.exe
    webdriver.gecko.driver = src/test/resources/driver/geckodriver.exe
  }
}

chrome {
    # Additional Chrome options
    switches = [
        "--disable-popup-blocking",
        "--disable-infobars",
        "--start-maximized"
    ]
    preferences {
        download.default_directory = "C:/Downloads"
    }
}
